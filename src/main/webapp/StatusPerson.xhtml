<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<head>
    <title>Person Status</title>
</head>
<body>
<h:form>
    <h:panelGrid columns="2" cellpadding="7">
        <h:outputLabel value="Cod: " />
        <h:inputText readonly= "#{facesContext.renderResponse}" value="#{borrowerController.personEntity.id}" />
        <h:outputLabel value="Name: " />
        <h:inputText value="#{borrowerController.personEntity.name}"></h:inputText>
        <h:outputLabel value="CNP: " />
        <h:inputText value="#{borrowerController.personEntity.CNP}"></h:inputText>
        <h:outputLabel value="Phone Number: " />
        <h:inputText value="#{borrowerController.personEntity.phoneNumber}"></h:inputText>
        <h:outputLabel></h:outputLabel>
    </h:panelGrid>
    <h3>Available books</h3>

    <h:dataTable value="#{borrowerController.bookEntityList}" var="book"  border="1">
        <h:column>
            <f:facet name="header">
                <h:outputText value="Id"/>
            </f:facet>
            <h:outputText value="#{book.id}"/>
        </h:column>
        <h:column>
            <f:facet name="header">
                <h:outputText value="Title"/>
            </f:facet>
            <h:outputText value="#{book.name}"/>
        </h:column>
        <h:column>
            <f:facet name="header">
                <h:outputText value="Genre"/>
            </f:facet>
            <h:outputText value="#{book.genre}"/>
        </h:column>
        <h:column>
            <f:facet name="header">
                <h:outputText value="Author"/>
            </f:facet>
            <h:outputText value="#{book.author}"/>
        </h:column>
        <h:column>
            <h:commandButton value="Borrowed"
                             action="#{borrowerController.borrowedBook()}" >
                <f:setPropertyActionListener
                        target="#{borrowerController.bookEntity}"
                        value="#{book}" />
            </h:commandButton>
        </h:column>
    </h:dataTable>
    <h:commandButton value="Search"
                     action="#{borrowerController.searchBook}">
    </h:commandButton>
</h:form>
</body>
</html>